(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"4hyD":function(e,t,a){"use strict";var s={name:"addCategory",data:function(){return{category:""}},methods:{show:function(){this.$modal.show("add-category")},storeCategory:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeCategory",{name:e.category}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.category=""}}},r=a("KHd+"),n=Object(r.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{height:"auto",scrollable:!0,pivotY:.2,clickToClose:!1,name:"add-category"}},[a("div",{staticClass:"flex justify-end"},[a("i",{staticClass:"vs-icon vs-popup--close material-icons text-warning",staticStyle:{background:"rgb(255, 255, 255)"},on:{click:function(t){return e.$modal.hide("add-category")}}},[e._v("close")])]),e._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row mb-10"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"category"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeCategory(t)}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)])],1)}),[],!1,null,"b31718a8",null);t.a=n.exports},"9Dpo":function(e,t,a){"use strict";var s={name:"addBrand",data:function(){return{brand:""}},methods:{show:function(){this.$modal.show("add-brand")},storeBrand:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeBrand",{name:e.brand}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.brand=""}}},r=a("KHd+"),n=Object(r.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{height:"auto",scrollable:!0,pivotY:.2,clickToClose:!1,name:"add-brand"}},[a("div",{staticClass:"flex justify-end"},[a("i",{staticClass:"vs-icon vs-popup--close material-icons text-warning",staticStyle:{background:"rgb(255, 255, 255)"},on:{click:function(t){return e.$modal.hide("add-brand")}}},[e._v("close")])]),e._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row mb-10"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"brand"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeBrand(t)}},model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1)])],1)}),[],!1,null,"1dd572a1",null);t.a=n.exports},dBer:function(e,t,a){"use strict";a.r(t);var s=a("o0o1"),r=a.n(s),n=a("ksP6"),o=a.n(n),i=(a("Hj/Q"),a("yo3J")),c=a("4hyD"),l=a("9Dpo"),d=a("Snq/"),u=a.n(d),v={name:"addProduct",components:{AddBrand:l.a,AddCategory:c.a,AddUnit:i.a,vueDropzone:o.a,"v-select":u.a},data:function(){return{product:{name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"},dropzoneOptions:{url:route("file.upload.thumb"),maxFiles:1,addRemoveLinks:!0,dictDefaultMessage:"ដាក់រូបភាពទំនិញបើមាន",thumbnailWidth:150,thumbnailHeight:150}}},computed:{all_units:function(){return this.$store.getters.all_unit},all_categories:function(){return this.$store.getters.all_category},all_brands:function(){return this.$store.getters.all_brand}},methods:{show:function(){this.$modal.show("add")},storeProduct:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeProduct",e.product).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.product={name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"}},successUpload:function(e,t){this.product.image=t.path}}},p=a("KHd+"),h=Object(p.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("modal",{attrs:{width:"90%",height:"auto",scrollable:!0,pivotY:.2,clickToClose:!1,name:"add"}},[a("div",{staticClass:"flex justify-end"},[a("i",{staticClass:"vs-icon vs-popup--close material-icons text-warning",staticStyle:{background:"rgb(255, 255, 255)"},on:{click:function(t){return e.$modal.hide("add")}}},[e._v("close")])]),e._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"name"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full my-2"},[a("label",[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"ពិពណ៌នា",name:"description"},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("description")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទិញ:"},model:{value:e.product.default_purchase,callback:function(t){e.$set(e.product,"default_purchase",t)},expression:"product.default_purchase"}})],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទលក់:"},model:{value:e.product.default_sale,callback:function(t){e.$set(e.product,"default_sale",t)},expression:"product.default_sale"}})],1)])]),e._v(" "),a("div",{staticClass:"vx-col md:w-2/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Unit")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"unit",clearable:!1,label:"name",options:e.all_units},model:{value:e.product.unit,callback:function(t){e.$set(e.product,"unit",t)},expression:"product.unit"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addUnit.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("ប្រភេទ")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"category",clearable:!1,label:"name",options:e.all_categories},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addCategory.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Model")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"brand",clearable:!1,label:"name",options:e.all_brands},model:{value:e.product.brand,callback:function(t){e.$set(e.product,"brand",t)},expression:"product.brand"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addBrand.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Inventory Type")]),e._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"inventory_type",options:["inventory_part","service","sale_only","purchase_only"]},model:{value:e.product.inventory_type,callback:function(t){e.$set(e.product,"inventory_type",t)},expression:"product.inventory_type"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("inventory_type"),expression:"errors.has('inventory_type')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_type")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 my-2"},[a("vue-dropzone",{ref:"image",staticClass:"max-content p-1",attrs:{duplicateCheck:"",id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-success":e.successUpload}})],1)])])]),e._v(" "),a("vs-divider"),e._v(" "),a("div",{staticClass:"flex justify-end btn-group"},[a("vs-button",{attrs:{icon:"icon-save","icon-pack":"feather",type:"relief"},on:{click:e.storeProduct}},[e._v("រក្សាទុក")])],1)],1)],1),e._v(" "),a("add-unit",{ref:"addUnit"}),e._v(" "),a("add-category",{ref:"addCategory"}),e._v(" "),a("add-brand",{ref:"addBrand"})],1)}),[],!1,null,"6921d591",null).exports;function f(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function m(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var n=e.apply(t,a);function o(e){f(n,s,r,o,i,"next",e)}function i(e){f(n,s,r,o,i,"throw",e)}o(void 0)}))}}var _,y,x,w,g,b,k={name:"Product",components:{EditProduct:a("mddE").a,AddProduct:h},data:function(){return{selected:[]}},computed:{all_about:function(){return this.$store.getters.all_about},all_product:function(){return this.$store.getters.all_product}},created:(b=m(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProduct();case 2:return e.next=4,this.fetchUnit();case 4:return e.next=6,this.fetchCategory();case 6:return e.next=8,this.fetchBrand();case 8:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)}),methods:{fetchUnit:(g=m(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchUnit");case 2:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)}),fetchBrand:(w=m(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchBrand");case 2:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)}),fetchCategory:(x=m(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchCategory");case 2:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)}),fetchProduct:(y=m(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchProduct");case 2:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)}),destroyProduct:(_=m(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).$vs.loading(),a=t.selected.map(function(){var e=m(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("destroyProduct",a.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(a).then((function(){t.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានលុប",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),t.selected=[],t.$vs.loading.close()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})}},C=Object(p.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"flex btn-group"},[a("vs-button",{attrs:{type:"relief","icon-pack":"feather",icon:"icon-plus-square"},on:{click:function(t){return e.$refs.addProduct.show()}}},[e._v("បន្ថែម")]),e._v(" "),1===e.selected.length?a("vs-button",{attrs:{color:"warning",type:"relief","icon-pack":"feather",icon:"icon-edit"},on:{click:function(t){return e.$refs.editProduct.show(e.selected[0])}}},[e._v("កែប្រែ")]):e._e(),e._v(" "),e.selected.length?a("vs-button",{attrs:{color:"danger",type:"relief","icon-pack":"feather",icon:"icon-trash-2"},on:{click:e.destroyProduct}},[e._v("លុប")]):e._e()],1),e._v(" "),a("vs-table",{attrs:{multiple:"",pagination:"","max-items":"10",search:"",data:e.all_product},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:s[r].id}},[e._v("\n                    "+e._s(s[r].id)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].name}},[e._v("\n                    "+e._s(s[r].name)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].description}},[e._v("\n                    "+e._s(s[r].description)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].unit}},[e._v("\n                    "+e._s(s[r].unit)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].category}},[e._v("\n                    "+e._s(s[r].category)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].brand}},[e._v("\n                    "+e._s(s[r].brand)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].inventory_type}},[e._v("\n                    "+e._s(s[r].inventory_type)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].default_purchase}},[e._v("\n                    "+e._s(s[r].default_purchase)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].default_sale}},[e._v("\n                    "+e._s(s[r].default_sale)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[r].created_at}},[e._v("\n                    "+e._s(s[r].created_at)+"\n                ")])],1)}))}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"id"}},[e._v("ល.រ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"name"}},[e._v("ឈ្មោះ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"description"}},[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"unit"}},[e._v("Unit")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"category"}},[e._v("ប្រភេទ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"brand"}},[e._v("Brand")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"inventory_type"}},[e._v("Inventory Type")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"purchase"}},[e._v("តម្លៃទិញ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"sale"}},[e._v("តម្លៃលក់")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"created_at"}},[e._v("កាលបរិច្ឆេទ")])],1)],2),e._v(" "),a("add-product",{ref:"addProduct"}),e._v(" "),a("edit-product",{ref:"editProduct",on:{finished:function(t){e.selected=[]}}})],1)}),[],!1,null,"7f79a7a0",null);t.default=C.exports},mddE:function(e,t,a){"use strict";var s=a("ksP6"),r=a.n(s),n=(a("Hj/Q"),a("Snq/")),o=a.n(n),i=a("yo3J"),c=a("4hyD"),l={name:"editProduct",components:{AddBrand:a("9Dpo").a,AddCategory:c.a,AddUnit:i.a,vueDropzone:r.a,"v-select":o.a},data:function(){return{product:{name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"},units:[{name:"គីឡូ"},{name:"លីត្រ"},{name:"ដំុ"}],categories:[{name:"គ្រឿងក្រោម"},{name:"ដែក"},{name:"ដំុ"}],brands:[{name:"AKA"},{name:"Snip"}],inventory_type:[{name:"inventory_part"},{name:"service"},{name:"sale_only"},{name:"purchase_only"}],dropzoneOptions:{url:route("file.upload.thumb"),maxFiles:1,addRemoveLinks:!0,dictDefaultMessage:"ដាក់រូបភាពទំនិញបើមាន",thumbnailWidth:150,thumbnailHeight:150}}},computed:{all_units:function(){return this.$store.getters.all_unit},all_categories:function(){return this.$store.getters.all_category},all_brands:function(){return this.$store.getters.all_brand}},methods:{show:function(e){this.$modal.show("edit"),this.product.id=e.id,this.product.name=e.name,this.product.description=e.description,this.product.unit={name:e.unit},this.product.category={name:e.category},this.product.brand={name:e.brand},this.product.inventory_type=e.inventory_type,this.product.default_purchase=e.default_purchase,this.product.default_sale=e.default_sale,this.product.image=e.image},editThumb:function(){this.$refs.image.manuallyAddFile({size:123},this.product.image)},updateProduct:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("updateProduct",e.product).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានកែប្រែ",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.$emit("finished")):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានកែប្រែ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},successUpload:function(e,t){this.product.image=t.path}}},d=a("KHd+"),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{width:"90%",height:"auto",scrollable:!0,pivotY:.2,clickToClose:!1,name:"edit"}},[a("div",{staticClass:"flex justify-end"},[a("i",{staticClass:"vs-icon vs-popup--close material-icons text-warning",staticStyle:{background:"rgb(255, 255, 255)"},on:{click:function(t){return e.$modal.hide("edit")}}},[e._v("close")])]),e._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"name"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full my-2"},[a("label",[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"ពិពណ៌នា",name:"description"},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("description")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទិញ:"},model:{value:e.product.default_purchase,callback:function(t){e.$set(e.product,"default_purchase",t)},expression:"product.default_purchase"}})],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទលក់:"},model:{value:e.product.default_sale,callback:function(t){e.$set(e.product,"default_sale",t)},expression:"product.default_sale"}})],1)])]),e._v(" "),a("div",{staticClass:"vx-col md:w-2/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Unit")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"unit",clearable:!1,label:"name",options:e.all_units},model:{value:e.product.unit,callback:function(t){e.$set(e.product,"unit",t)},expression:"product.unit"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addUnit.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("ប្រភេទ")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"category",clearable:!1,label:"name",options:e.all_categories},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addCategory.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Model")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"brand",clearable:!1,label:"name",options:e.all_brands},model:{value:e.product.brand,callback:function(t){e.$set(e.product,"brand",t)},expression:"product.brand"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addBrand.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Inventory Type")]),e._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"inventory_type",options:["inventory_part","service","sale_only","purchase_only"]},model:{value:e.product.inventory_type,callback:function(t){e.$set(e.product,"inventory_type",t)},expression:"product.inventory_type"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("inventory_type"),expression:"errors.has('inventory_type')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_type")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 my-2"},[a("vue-dropzone",{ref:"image",staticClass:"max-content p-1",attrs:{duplicateCheck:"",id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-success":e.successUpload,"vdropzone-mounted":e.editThumb}})],1)])])]),e._v(" "),a("vs-divider"),e._v(" "),a("div",{staticClass:"flex justify-end btn-group"},[a("vs-button",{attrs:{icon:"icon-save","icon-pack":"feather",type:"relief"},on:{click:e.updateProduct}},[e._v("រក្សាទុក")])],1)],1),e._v(" "),a("add-unit",{ref:"addUnit"}),e._v(" "),a("add-category",{ref:"addCategory"}),e._v(" "),a("add-brand",{ref:"addBrand"})],1)}),[],!1,null,"4c13bb72",null);t.a=u.exports},yo3J:function(e,t,a){"use strict";var s={name:"addUnit",data:function(){return{unit:""}},methods:{show:function(){this.$modal.show("add-unit")},storeUnit:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeUnit",{name:e.unit}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.unit=""}}},r=a("KHd+"),n=Object(r.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{height:"auto",scrollable:!0,pivotY:.2,clickToClose:!1,name:"add-unit"}},[a("div",{staticClass:"flex justify-end"},[a("i",{staticClass:"vs-icon vs-popup--close material-icons text-warning",staticStyle:{background:"rgb(255, 255, 255)"},on:{click:function(t){return e.$modal.hide("add-unit")}}},[e._v("close")])]),e._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row mb-10"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"unit"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeUnit(t)}},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1)])],1)}),[],!1,null,"da88d7b4",null);t.a=n.exports}}]);