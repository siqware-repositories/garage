(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/z1A":function(e,t,a){var s=a("bMW1");"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(e.exports=s.locals)},"4hyD":function(e,t,a){"use strict";var s={name:"addCategory",data:function(){return{dialog:!1,category:""}},methods:{show:function(){this.dialog=!0},storeCategory:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeCategory",{name:e.category}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.category=""}}},n=a("KHd+"),r=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("\n                    Close\n                ")])],1)],1),e._v(" "),a("q-card-section",{staticClass:"q-pt-none q-px-lg"},[a("div",{staticClass:"vx-row"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"category"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeCategory(t)}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)])],1)],1)}),[],!1,null,"06d51043",null);t.a=r.exports},"9Dpo":function(e,t,a){"use strict";var s={name:"addBrand",data:function(){return{dialog:!1,brand:""}},methods:{show:function(){this.dialog=!0},storeBrand:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeBrand",{name:e.brand}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.brand=""}}},n=a("KHd+"),r=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("\n                    Close\n                ")])],1)],1),e._v(" "),a("q-card-section",{staticClass:"q-pt-none q-px-lg"},[a("div",{staticClass:"vx-row"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"brand"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeBrand(t)}},model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1)])],1)],1)}),[],!1,null,"5627ee4a",null);t.a=r.exports},IHnm:function(e,t,a){"use strict";var s=a("/z1A");a.n(s).a},bMW1:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,'/*@import "../../../../sass/vue-instant/vue-instant-input.css";*/',""])},dBer:function(e,t,a){"use strict";a.r(t);var s=a("o0o1"),n=a.n(s),r=a("ksP6"),o=a.n(r),i=(a("Hj/Q"),a("yo3J")),l=a("4hyD"),c=a("9Dpo"),d=a("Snq/"),u=a.n(d),p={name:"addProduct",components:{AddBrand:c.a,AddCategory:l.a,AddUnit:i.a,vueDropzone:o.a,"v-select":u.a},data:function(){return{dialog:!1,product:{name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"},dropzoneOptions:{url:route("file.upload.thumb"),maxFiles:1,addRemoveLinks:!0,dictDefaultMessage:"ដាក់រូបភាពទំនិញបើមាន",thumbnailWidth:150,thumbnailHeight:150}}},computed:{all_product:function(){return this.$store.getters.all_product},all_units:function(){return this.$store.getters.all_unit},all_categories:function(){return this.$store.getters.all_category},all_brands:function(){return this.$store.getters.all_brand}},methods:{show:function(){this.dialog=!0},storeProduct:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeProduct",e.product).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.product={name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"}},successUpload:function(e,t){this.product.image=t.path}}},v=(a("IHnm"),a("KHd+")),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("Close")])],1)],1),e._v(" "),a("q-card-section",[a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("label",[e._v("ឈ្មោះ")]),e._v(" "),a("vue-instant",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"styles","suggestion-attribute":"name",suggestions:e.all_product,type:"google",name:"name"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full my-2"},[a("label",[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"ពិពណ៌នា",name:"description"},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("description")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទិញ:"},model:{value:e.product.default_purchase,callback:function(t){e.$set(e.product,"default_purchase",t)},expression:"product.default_purchase"}})],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទលក់:"},model:{value:e.product.default_sale,callback:function(t){e.$set(e.product,"default_sale",t)},expression:"product.default_sale"}})],1)])]),e._v(" "),a("div",{staticClass:"vx-col md:w-2/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Unit")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"unit",clearable:!1,label:"name",options:e.all_units},model:{value:e.product.unit,callback:function(t){e.$set(e.product,"unit",t)},expression:"product.unit"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addUnit.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("ប្រភេទ")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"category",clearable:!1,label:"name",options:e.all_categories},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addCategory.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Model")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"brand",clearable:!1,label:"name",options:e.all_brands},model:{value:e.product.brand,callback:function(t){e.$set(e.product,"brand",t)},expression:"product.brand"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addBrand.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Inventory Type")]),e._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"inventory_type",options:["inventory_part","service","sale_only","purchase_only"]},model:{value:e.product.inventory_type,callback:function(t){e.$set(e.product,"inventory_type",t)},expression:"product.inventory_type"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("inventory_type"),expression:"errors.has('inventory_type')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_type")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 my-2"},[a("vue-dropzone",{ref:"image",staticClass:"max-content p-1",attrs:{duplicateCheck:"",id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-success":e.successUpload}})],1)])])]),e._v(" "),a("vs-divider"),e._v(" "),a("div",{staticClass:"flex justify-end btn-group"},[a("vs-button",{attrs:{icon:"icon-save","icon-pack":"feather",type:"relief"},on:{click:e.storeProduct}},[e._v("រក្សាទុក")])],1)],1)],1)],1)],1),e._v(" "),a("add-unit",{ref:"addUnit"}),e._v(" "),a("add-category",{ref:"addCategory"}),e._v(" "),a("add-brand",{ref:"addBrand"})],1)}),[],!1,null,"409666ba",null).exports,h={name:"editProduct",components:{AddBrand:c.a,AddCategory:l.a,AddUnit:i.a,vueDropzone:o.a,"v-select":u.a},data:function(){return{dialog:!1,product:{name:"",description:"",unit:{name:"ដំុ"},category:{name:"RX300"},brand:{name:"Toyota"},inventory_type:"inventory_part",default_purchase:1,default_sale:1,image:"images/placeholder/placeholder.png"},units:[{name:"គីឡូ"},{name:"លីត្រ"},{name:"ដំុ"}],categories:[{name:"គ្រឿងក្រោម"},{name:"ដែក"},{name:"ដំុ"}],brands:[{name:"AKA"},{name:"Snip"}],inventory_type:[{name:"inventory_part"},{name:"service"},{name:"sale_only"},{name:"purchase_only"}],dropzoneOptions:{url:route("file.upload.thumb"),maxFiles:1,addRemoveLinks:!0,dictDefaultMessage:"ដាក់រូបភាពទំនិញបើមាន",thumbnailWidth:150,thumbnailHeight:150}}},computed:{all_product:function(){return this.$store.getters.all_product},all_units:function(){return this.$store.getters.all_unit},all_categories:function(){return this.$store.getters.all_category},all_brands:function(){return this.$store.getters.all_brand}},methods:{show:function(e){this.dialog=!0,this.product.id=e.id,this.product.name=e.name,this.product.description=e.description,this.product.unit={name:e.unit},this.product.category={name:e.category},this.product.brand={name:e.brand},this.product.inventory_type=e.inventory_type,this.product.default_purchase=e.default_purchase,this.product.default_sale=e.default_sale,this.product.image=e.image},editThumb:function(){this.$refs.image.manuallyAddFile({size:123},this.product.image)},updateProduct:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("updateProduct",e.product).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានកែប្រែ",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.$emit("finished")):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានកែប្រែ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},successUpload:function(e,t){this.product.image=t.path}}},m=Object(v.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("Close")])],1)],1),e._v(" "),a("q-card-section",[a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("label",[e._v("ឈ្មោះ")]),e._v(" "),a("vue-instant",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"styles","suggestion-attribute":"name",suggestions:e.all_product,type:"google",name:"name"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full my-2"},[a("label",[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"ពិពណ៌នា",name:"description"},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("description")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទិញ:"},model:{value:e.product.default_purchase,callback:function(t){e.$set(e.product,"default_purchase",t)},expression:"product.default_purchase"}})],1),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input-number",{attrs:{min:"0",label:"តម្លៃទលក់:"},model:{value:e.product.default_sale,callback:function(t){e.$set(e.product,"default_sale",t)},expression:"product.default_sale"}})],1)])]),e._v(" "),a("div",{staticClass:"vx-col md:w-2/3 w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Unit")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"unit",clearable:!1,label:"name",options:e.all_units},model:{value:e.product.unit,callback:function(t){e.$set(e.product,"unit",t)},expression:"product.unit"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addUnit.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("ប្រភេទ")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"category",clearable:!1,label:"name",options:e.all_categories},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addCategory.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Model")]),e._v(" "),a("vx-input-group",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"brand",clearable:!1,label:"name",options:e.all_brands},model:{value:e.product.brand,callback:function(t){e.$set(e.product,"brand",t)},expression:"product.brand"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon",on:{click:function(t){return e.$refs.addBrand.show()}}},[a("vs-button",{staticClass:"rounded-none",attrs:{type:"filled","icon-pack":"feather",icon:"icon-plus"}})],1)])],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("brand"),expression:"errors.has('brand')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("brand")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("label",[e._v("Inventory Type")]),e._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"inventory_type",options:["inventory_part","service","sale_only","purchase_only"]},model:{value:e.product.inventory_type,callback:function(t){e.$set(e.product,"inventory_type",t)},expression:"product.inventory_type"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("inventory_type"),expression:"errors.has('inventory_type')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_type")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 my-2"},[a("vue-dropzone",{ref:"image",staticClass:"max-content p-1",attrs:{duplicateCheck:"",id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-success":e.successUpload,"vdropzone-mounted":e.editThumb}})],1)])])]),e._v(" "),a("vs-divider"),e._v(" "),a("div",{staticClass:"flex justify-end btn-group"},[a("vs-button",{attrs:{icon:"icon-save","icon-pack":"feather",type:"relief"},on:{click:e.updateProduct}},[e._v("រក្សាទុក")])],1)],1),e._v(" "),a("add-unit",{ref:"addUnit"}),e._v(" "),a("add-category",{ref:"addCategory"}),e._v(" "),a("add-brand",{ref:"addBrand"})],1)],1)],1)}),[],!1,null,"7f623d50",null).exports,_={name:"printLabel",components:{"bar-code":a("q+Mi").a},data:function(){return{dialog:!1,data:{products:[{name:"name",id:1}]}}},methods:{show:function(e){this.dialog=!0,this.data.products=e},printHtml:function(){$("#printMe").printThis({pageTitle:"Print Invoice No: 1",beforePrintEvent:function(){console.log("after before print printing")},beforePrint:function(){console.log("before print printing")},afterPrint:function(){console.log("after print printing")}})}}},g=Object(v.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("\n                    Close\n                ")])],1)],1),e._v(" "),a("q-card-section",{staticClass:"q-px-lg"},[a("div",{staticClass:"px-3",attrs:{id:"printMe"}},[a("div",{staticClass:"vx-row"},e._l(e.data.products,(function(t,s){return a("div",{key:s,staticClass:"vx-col md:w-1/4 w-full bordered print:w-1/4 text-left"},[a("div",{staticClass:"label-text"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),e._v(" "),a("bar-code",{attrs:{value:"000"+t.id,tag:"img",options:{displayValue:!0,width:1,height:30}}})],1)})),0)]),e._v(" "),a("q-space"),e._v(" "),a("q-btn",{on:{click:e.printHtml}},[e._v("Print")])],1)],1)],1)}),[],!1,null,"601594e2",null).exports,y=a("rrFr"),x=a.n(y),b={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,required:!1},exportFields:{type:Object,required:!1},defaultValue:{type:String,required:!1,default:""},title:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function}},computed:{idName:()=>"export_"+(new Date).getTime(),downloadFields(){return void 0!==this.fields?this.fields:void 0!==this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"==typeof this.beforeGenerate&&await this.beforeGenerate();let e=this.data;if("function"!=typeof this.fetch&&e||(e=await this.fetch()),!e||!e.length)return;let t=this.getProcessedJson(e,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(t),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(t),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(t),this.name,"application/vnd.ms-excel")},export:async function(e,t,a){let s=this.base64ToBlob(e,a);"function"==typeof this.beforeFinish&&await this.beforeFinish(),x()(s,t,a)},jsonToXLS(e){let t="<thead>";const a=Object.keys(e[0]).length;let s=this;null!=this.title&&(t+=this.parseExtraData(this.title,'<tr><th colspan="'+a+'">${data}</th></tr>')),t+="<tr>";for(let a in e[0])t+="<th>"+a+"</th>";return t+="</tr>",t+="</thead>",t+="<tbody>",e.map((function(e,a){t+="<tr>";for(let a in e)t+="<td>"+s.valueReformattedForMultilines(e[a])+"</td>";t+="</tr>"})),t+="</tbody>",null!=this.footer&&(t+="<tfoot>",t+=this.parseExtraData(this.footer,'<tr><td colspan="'+a+'">${data}</td></tr>'),t+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",t).replace("${worksheet}",this.worksheet)},jsonToCSV(e){var t=[];null!=this.title&&t.push(this.parseExtraData(this.title,"${data}\r\n"));for(let a in e[0])t.push(a),t.push(",");return t.pop(),t.push("\r\n"),e.map((function(e){for(let a in e){let s='="'+e[a]+'"';s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"'),t.push(s),t.push(",")}t.pop(),t.push("\r\n")})),null!=this.footer&&t.push(this.parseExtraData(this.footer,"${data}\r\n")),t.join("")},getProcessedJson(e,t){let a=this.getKeys(e,t),s=[],n=this;return e.map((function(e,t){let r={};for(let t in a){let s=a[t];r[t]=n.getValue(s,e)}s.push(r)})),s},getKeys(e,t){if(t)return t;let a={};for(let t in e[0])a[t]=t;return a},parseExtraData(e,t){let a="";if(Array.isArray(e))for(var s=0;s<e.length;s++)a+=t.replace("${data}",e[s]);else a+=t.replace("${data}",e);return a},getValue(e,t){const a="object"!=typeof e?e:e.field;let s="string"!=typeof a?[]:a.split("."),n=this.defaultValue;return n=a?s.length>1?this.getValueFromNestedItem(t,s):this.parseValue(t[a]):t,e.hasOwnProperty("callback")&&(n=this.getValueFromCallback(n,e.callback)),n},valueReformattedForMultilines:e=>"string"==typeof e?e.replace(/\n/gi,"<br/>"):e,getValueFromNestedItem(e,t){let a=e;for(let e of t)a&&(a=a[e]);return this.parseValue(a)},getValueFromCallback(e,t){if("function"!=typeof t)return this.defaultValue;const a=t(e);return this.parseValue(a)},parseValue(e){return e||0===e||"boolean"==typeof e?e:this.defaultValue},base64ToBlob(e,t){let a=window.btoa(window.unescape(encodeURIComponent(e))),s=atob(a),n=s.length,r=new Uint8ClampedArray(n);for(;n--;)r[n]=s.charCodeAt(n);return new Blob([r],{type:t})}}};function w(e,t,a,s,n,r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(s,n)}function k(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var r=e.apply(t,a);function o(e){w(r,s,n,o,i,"next",e)}function i(e){w(r,s,n,o,i,"throw",e)}o(void 0)}))}}var C,q={name:"Product",components:{PrintLabel:g,EditProduct:m,AddProduct:f,downloadExcel:Object(v.a)(b,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:this.idName},on:{click:this.generate}},[this._t("default",[this._v("\n\t\tDownload "+this._s(this.name)+"\n\t")])],2)}),[],!1,null,null,null).exports},data:function(){return{product_id:"",selected:[]}},created:function(){this.$barcodeScanner.init(this.onBarcodeScanned)},destroyed:function(){this.$barcodeScanner.destroy()},computed:{all_about:function(){return this.$store.getters.all_about},all_product:function(){return this.$store.getters.all_product},search_all_product:function(){var e=this;return e.all_product.filter((function(t){return!e.product_id||t.id===parseInt(e.product_id)}))},suggestion_all_product:function(){return this.all_product.map((function(e){return{id:String(e.id)}}))}},methods:{onBarcodeScanned:function(e){var t=window.event;13===t.keyCode&&t.preventDefault(),this.product_id=String(parseInt(e))},destroyProduct:(C=k(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).$vs.loading(),a=t.selected.map(function(){var e=k(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("destroyProduct",a.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(a).then((function(){t.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានលុប",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),t.selected=[],t.$vs.loading.close()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})}},P=Object(v.a)(q,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vx-card",{attrs:{"no-shadow":""}},[a("div",{staticClass:"flex btn-group"},[a("vs-button",{attrs:{type:"relief","icon-pack":"feather",icon:"icon-plus-square"},on:{click:function(t){return e.$refs.addProduct.show()}}},[e._v("បន្ថែម")]),e._v(" "),1===e.selected.length?a("vs-button",{attrs:{color:"warning",type:"relief","icon-pack":"feather",icon:"icon-edit"},on:{click:function(t){return e.$refs.editProduct.show(e.selected[0])}}},[e._v("កែប្រែ")]):e._e(),e._v(" "),e.selected.length?a("vs-button",{attrs:{color:"success",type:"relief","icon-pack":"feather",icon:"icon-printer"},on:{click:function(t){return e.$refs.printLabel.show(e.selected)}}},[e._v("Print Label")]):e._e(),e._v(" "),e.selected.length?a("vs-button",{attrs:{color:"danger",type:"relief","icon-pack":"feather",icon:"icon-trash-2"},on:{click:e.destroyProduct}},[e._v("លុប")]):e._e()],1),e._v(" "),a("div",{staticClass:"flex justify-end"},[e.selected.length?a("download-excel",{attrs:{data:e.selected}},[a("vs-button",{attrs:{type:"relief","icon-pack":"feather",icon:"icon-download"}},[e._v("Excel Export")])],1):e._e()],1),e._v(" "),a("vue-instant",{staticClass:"mt-base",attrs:{id:"purchase_pen","suggestion-attribute":"id",suggestions:e.suggestion_all_product,type:"google"},on:{clear:function(t){e.product_id=""}},model:{value:e.product_id,callback:function(t){e.product_id=t},expression:"product_id"}}),e._v(" "),a("vs-table",{attrs:{multiple:"",pagination:"","max-items":"10",search:"",data:e.search_all_product},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,n){return a("vs-tr",{key:n,attrs:{data:t}},[a("vs-td",{attrs:{data:s[n].id}},[e._v("\n                    "+e._s(s[n].id)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].name}},[e._v("\n                    "+e._s(s[n].name)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].description}},[e._v("\n                    "+e._s(s[n].description)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].unit}},[e._v("\n                    "+e._s(s[n].unit)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].category}},[e._v("\n                    "+e._s(s[n].category)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].brand}},[e._v("\n                    "+e._s(s[n].brand)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].inventory_type}},[e._v("\n                    "+e._s(s[n].inventory_type)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].default_purchase}},[e._v("\n                    "+e._s(s[n].default_purchase)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].default_sale}},[e._v("\n                    "+e._s(s[n].default_sale)+"\n                ")]),e._v(" "),a("vs-td",{attrs:{data:s[n].created_at}},[e._v("\n                    "+e._s(s[n].created_at)+"\n                ")])],1)}))}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"id"}},[e._v("ល.រ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"name"}},[e._v("ឈ្មោះ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"description"}},[e._v("ពិពណ៌នា")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"unit"}},[e._v("Unit")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"category"}},[e._v("ប្រភេទ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"brand"}},[e._v("Brand")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"inventory_type"}},[e._v("Inventory Type")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"purchase"}},[e._v("តម្លៃទិញ")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"sale"}},[e._v("តម្លៃលក់")]),e._v(" "),a("vs-th",{attrs:{"sort-key":"created_at"}},[e._v("កាលបរិច្ឆេទ")])],1)],2),e._v(" "),a("add-product",{ref:"addProduct"}),e._v(" "),a("edit-product",{ref:"editProduct",on:{finished:function(t){e.selected=[]}}}),e._v(" "),a("print-label",{ref:"printLabel",on:{finished:function(e){}}})],1)}),[],!1,null,"3663bc3b",null);t.default=P.exports},rrFr:function(e,t,a){var s,n,r;n=[],void 0===(r="function"==typeof(s=function(){return function e(t,a,s){var n,r,o=window,i="application/octet-stream",l=s||i,c=t,d=!a&&!s&&c,u=document.createElement("a"),p=function(e){return String(e)},v=o.Blob||o.MozBlob||o.WebKitBlob||p,f=a||"download";if(v=v.call?v.bind(o):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),d&&d.length<2048&&(f=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var h=new XMLHttpRequest;return h.open("GET",d,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,f,i)},setTimeout((function(){h.send()}),0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&v!==p))return navigator.msSaveBlob?navigator.msSaveBlob(y(c),f):x(c);l=(c=y(c)).type||i}else if(/([\x80-\xff])/.test(c)){for(var m=0,_=new Uint8Array(c.length),g=_.length;m<g;++m)_[m]=c.charCodeAt(m);c=new v([_],{type:l})}function y(e){for(var t=e.split(/[:;,]/),a=t[1],s=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),n=s.length,r=0,o=new Uint8Array(n);r<n;++r)o[r]=s.charCodeAt(r);return new v([o],{type:a})}function x(e,t){if("download"in u)return u.href=e,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(n=c instanceof v?c:new v([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(n,f);if(o.URL)x(o.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===p)try{return x("data:"+l+";base64,"+o.btoa(n))}catch(e){return x("data:"+l+","+encodeURIComponent(n))}(r=new FileReader).onload=function(e){x(this.result)},r.readAsDataURL(n)}return!0}})?s.apply(t,n):s)||(e.exports=r)},yo3J:function(e,t,a){"use strict";var s={name:"addUnit",data:function(){return{dialog:!1,unit:""}},methods:{show:function(){this.dialog=!0},storeUnit:function(){var e=this;this.$validator.validateAll().then((function(t){t?(e.$vs.loading(),e.$store.dispatch("storeUnit",{name:e.unit}).then((function(t){t?(e.$vs.notify({time:4e3,title:"ប្រតិបត្តិការជោគជ័យ",text:"ទិន្នន័យបានបន្ថែម",color:"success",iconPack:"feather",icon:"icon-check",position:"top-center"}),e.resetField()):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"ទិន្នន័យមិនបានបន្ថែម",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"}),e.$vs.loading.close()}))):e.$vs.notify({title:"ប្រតិបត្តិការបរាជ័យ",text:"សូមបំពេញទិន្នន័យអោយបានត្រឹមត្រូវ",color:"danger",iconPack:"feather",icon:"icon-message-square",position:"top-center"})}))},resetField:function(){this.unit=""}}},n=a("KHd+"),r=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-space"),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("\n                    Close\n                ")])],1)],1),e._v(" "),a("q-card-section",{staticClass:"q-pt-none q-px-lg"},[a("div",{staticClass:"vx-row"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"ឈ្មោះ",name:"unit"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.storeUnit(t)}},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("unit"),expression:"errors.has('unit')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("unit")))])],1)])],1)],1)}),[],!1,null,"632c18ac",null);t.a=r.exports}}]);